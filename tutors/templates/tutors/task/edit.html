{% extends "tutors/base_tutors.html" %}
{% load i18n %}
{% load bootstrap4 %}

{% block set_common_headercontent %}{% trans "Edit Task" %}{% endblock %}

{% block set_common_content %}
<div class="card">
    <div class="card-header">

        {% trans "Edit Task" %}: {{ task }}
    </div>
    <div class="card-body">
        <hr>
        <form
            method="post"
            action=""
        >
            {% csrf_token %}

            <div class="row">
                <div class="col-lg-12">
                    {% bootstrap_form form %}
                </div>
            </div>

            <button
                type="submit"
                class="btn btn-primary"
            >
                {% trans "Submit" %}
            </button>
            <a
                href="{% url "task_view" task.id %}"
                class="btn btn-secondary"
            >
                {% trans "Cancel" %}
            </a>
        </form>

        <script type="text/javascript">
            /* global addLink, valueCallback */
            const allowedSubjects = $('select[multiple][name="allowed_subjects"]');
            addLink(allowedSubjects, '{% trans "Master" %}', valueCallback('select', 'master'));
            addLink(allowedSubjects, '{% trans "Bachelor" %}', valueCallback('select', 'bachelor'));
        </script>
    </div>
</div>
{% endblock %}
